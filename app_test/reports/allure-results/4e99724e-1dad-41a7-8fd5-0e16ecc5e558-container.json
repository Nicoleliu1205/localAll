{"uuid": "2a5cfb29-069b-49f4-93ad-f692b61781ef", "children": ["34cdfce2-4dcf-4d11-b2db-77e42d752ad1"], "befores": [{"name": "_xunit_setup_method_fixture_TestLogin", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.WebDriverException: Message: An unknown server-side error occurred while processing the command. Original error: Check https://github.com/appium/appium/issues/13802 for throubleshooting. Error executing adbExec. Original error: 'Command 'C:\\\\Users\\\\lv\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\adb.exe -P 5037 -s 196eea2b shell 'settings delete global hidden_api_policy_pre_p_apps;settings delete global hidden_api_policy_p_apps;settings delete global hidden_api_policy'' exited with code 255'; Command output: \r\nException occurred while executing 'delete':\r\njava.lang.SecurityException: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\r\n\tat com.android.providers.settings.SettingsProvider.enforceWritePermission(SettingsProvider.java:2329)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1473)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1465)\r\n\tat com.android.providers.settings.SettingsProvider.deleteGlobalSetting(SettingsProvider.java:1436)\r\n\tat com.android.providers.settings.SettingsProvider.call(SettingsProvider.java:528)\r\n\tat android.content.ContentProvider.call(ContentProvider.java:2533)\r\n\tat android.content.ContentProvider$Transport.call(ContentProvider.java:530)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.deleteForUser(SettingsService.java:408)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:282)\r\n\tat com.android.modules.utils.BasicShellCommandHandler.exec(BasicShellCommandHandler.java:97)\r\n\tat android.os.ShellCommand.exec(ShellCommand.java:38)\r\n\tat com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:50)\r\n\tat android.os.Binder.shellCommand(Binder.java:1054)\r\n\tat android.os.Binder.onTransact(Binder.java:882)\r\n\tat android.os.Binder.execTransactInternal(Binder.java:1290)\r\n\tat android.os.Binder.execTransact(Binder.java:1249)\r\n\r\nException occurred while executing 'delete':\r\njava.lang.SecurityException: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\r\n\tat com.android.providers.settings.SettingsProvider.enforceWritePermission(SettingsProvider.java:2329)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1473)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1465)\r\n\tat com.android.providers.settings.SettingsProvider.deleteGlobalSetting(SettingsProvider.java:1436)\r\n\tat com.android.providers.settings.SettingsProvider.call(SettingsProvider.java:528)\r\n\tat android.content.ContentProvider.call(ContentProvider.java:2533)\r\n\tat android.content.ContentProvider$Transport.call(ContentProvider.java:530)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.deleteForUser(SettingsService.java:408)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:282)\r\n\tat com.android.modules.utils.BasicShellCommandHandler.exec(BasicShellCommandHandler.java:97)\r\n\tat android.os.ShellCommand.exec(ShellCommand.java:38)\r\n\tat com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:50)\r\n\tat android.os.Binder.shellCommand(Binder.java:1054)\r\n\tat android.os.Binder.onTransact(Binder.java:882)\r\n\tat android.os.Binder.execTransactInternal(Binder.java:1290)\r\n\tat android.os.Binder.execTransact(Binder.java:1249)\r\n\r\nException occurred while executing 'delete':\r\njava.lang.SecurityException: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\r\n\tat com.android.providers.settings.SettingsProvider.enforceWritePermission(SettingsProvider.java:2329)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1473)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1465)\r\n\tat com.android.providers.settings.SettingsProvider.deleteGlobalSetting(SettingsProvider.java:1436)\r\n\tat com.android.providers.settings.SettingsProvider.call(SettingsProvider.java:528)\r\n\tat android.content.ContentProvider.call(ContentProvider.java:2533)\r\n\tat android.content.ContentProvider$Transport.call(ContentProvider.java:530)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.deleteForUser(SettingsService.java:408)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:282)\r\n\tat com.android.modules.utils.BasicShellCommandHandler.exec(BasicShellCommandHandler.java:97)\r\n\tat android.os.ShellCommand.exec(ShellCommand.java:38)\r\n\tat com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:50)\r\n\tat android.os.Binder.shellCommand(Binder.java:1054)\r\n\tat android.os.Binder.onTransact(Binder.java:882)\r\n\tat android.os.Binder.execTransactInternal(Binder.java:1290)\r\n\tat android.os.Binder.execTransact(Binder.java:1249)\r\n\nStacktrace:\nUnknownError: An unknown server-side error occurred while processing the command. Original error: Check https://github.com/appium/appium/issues/13802 for throubleshooting. Error executing adbExec. Original error: 'Command 'C:\\\\Users\\\\lv\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\adb.exe -P 5037 -s 196eea2b shell 'settings delete global hidden_api_policy_pre_p_apps;settings delete global hidden_api_policy_p_apps;settings delete global hidden_api_policy'' exited with code 255'; Command output: \r\nException occurred while executing 'delete':\r\njava.lang.SecurityException: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\r\n\tat com.android.providers.settings.SettingsProvider.enforceWritePermission(SettingsProvider.java:2329)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1473)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1465)\r\n\tat com.android.providers.settings.SettingsProvider.deleteGlobalSetting(SettingsProvider.java:1436)\r\n\tat com.android.providers.settings.SettingsProvider.call(SettingsProvider.java:528)\r\n\tat android.content.ContentProvider.call(ContentProvider.java:2533)\r\n\tat android.content.ContentProvider$Transport.call(ContentProvider.java:530)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.deleteForUser(SettingsService.java:408)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:282)\r\n\tat com.android.modules.utils.BasicShellCommandHandler.exec(BasicShellCommandHandler.java:97)\r\n\tat android.os.ShellCommand.exec(ShellCommand.java:38)\r\n\tat com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:50)\r\n\tat android.os.Binder.shellCommand(Binder.java:1054)\r\n\tat android.os.Binder.onTransact(Binder.java:882)\r\n\tat android.os.Binder.execTransactInternal(Binder.java:1290)\r\n\tat android.os.Binder.execTransact(Binder.java:1249)\r\n\r\nException occurred while executing 'delete':\r\njava.lang.SecurityException: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\r\n\tat com.android.providers.settings.SettingsProvider.enforceWritePermission(SettingsProvider.java:2329)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1473)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1465)\r\n\tat com.android.providers.settings.SettingsProvider.deleteGlobalSetting(SettingsProvider.java:1436)\r\n\tat com.android.providers.settings.SettingsProvider.call(SettingsProvider.java:528)\r\n\tat android.content.ContentProvider.call(ContentProvider.java:2533)\r\n\tat android.content.ContentProvider$Transport.call(ContentProvider.java:530)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.deleteForUser(SettingsService.java:408)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:282)\r\n\tat com.android.modules.utils.BasicShellCommandHandler.exec(BasicShellCommandHandler.java:97)\r\n\tat android.os.ShellCommand.exec(ShellCommand.java:38)\r\n\tat com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:50)\r\n\tat android.os.Binder.shellCommand(Binder.java:1054)\r\n\tat android.os.Binder.onTransact(Binder.java:882)\r\n\tat android.os.Binder.execTransactInternal(Binder.java:1290)\r\n\tat android.os.Binder.execTransact(Binder.java:1249)\r\n\r\nException occurred while executing 'delete':\r\njava.lang.SecurityException: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\r\n\tat com.android.providers.settings.SettingsProvider.enforceWritePermission(SettingsProvider.java:2329)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1473)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1465)\r\n\tat com.android.providers.settings.SettingsProvider.deleteGlobalSetting(SettingsProvider.java:1436)\r\n\tat com.android.providers.settings.SettingsProvider.call(SettingsProvider.java:528)\r\n\tat android.content.ContentProvider.call(ContentProvider.java:2533)\r\n\tat android.content.ContentProvider$Transport.call(ContentProvider.java:530)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.deleteForUser(SettingsService.java:408)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:282)\r\n\tat com.android.modules.utils.BasicShellCommandHandler.exec(BasicShellCommandHandler.java:97)\r\n\tat android.os.ShellCommand.exec(ShellCommand.java:38)\r\n\tat com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:50)\r\n\tat android.os.Binder.shellCommand(Binder.java:1054)\r\n\tat android.os.Binder.onTransact(Binder.java:882)\r\n\tat android.os.Binder.execTransactInternal(Binder.java:1290)\r\n\tat android.os.Binder.execTransact(Binder.java:1249)\r\n\n    at getResponseForW3CError (C:\\Users\\lv\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\@appium\\base-driver\\lib\\protocol\\errors.js:1143:9)\n    at asyncHandler (C:\\Users\\lv\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\@appium\\base-driver\\lib\\protocol\\protocol.js:487:57)\n", "trace": "  File \"C:\\项目文件\\localAll\\.venv\\Lib\\site-packages\\pluggy\\callers.py\", line 187, in _multicall\n    res = hook_impl.function(*args)\n  File \"C:\\项目文件\\localAll\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"C:\\项目文件\\localAll\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 895, in call_fixture_func\n    fixture_result = next(generator)\n  File \"C:\\项目文件\\localAll\\.venv\\Lib\\site-packages\\_pytest\\python.py\", line 899, in xunit_setup_method_fixture\n    _call_with_optional_argument(func, method)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\项目文件\\localAll\\.venv\\Lib\\site-packages\\_pytest\\python.py\", line 777, in _call_with_optional_argument\n    func(arg)\n    ~~~~^^^^^\n  File \"C:\\项目文件\\localAll\\flutter_app_test\\testcases\\base_test.py\", line 27, in setup_method\n    self.driver = webdriver.Remote(\n                  ~~~~~~~~~~~~~~~~^\n        command_executor=self.config.get_appium_server_url(),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        options=options\n        ^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\项目文件\\localAll\\.venv\\Lib\\site-packages\\appium\\webdriver\\webdriver.py\", line 238, in __init__\n    super().__init__(\n    ~~~~~~~~~~~~~~~~^\n        command_executor=command_executor,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n        client_config=client_config,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\项目文件\\localAll\\.venv\\Lib\\site-packages\\selenium\\webdriver\\remote\\webdriver.py\", line 250, in __init__\n    self.start_session(capabilities)\n    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File \"C:\\项目文件\\localAll\\.venv\\Lib\\site-packages\\appium\\webdriver\\webdriver.py\", line 329, in start_session\n    response = self.execute(RemoteCommand.NEW_SESSION, w3c_caps)\n  File \"C:\\项目文件\\localAll\\.venv\\Lib\\site-packages\\selenium\\webdriver\\remote\\webdriver.py\", line 429, in execute\n    self.error_handler.check_response(response)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\项目文件\\localAll\\.venv\\Lib\\site-packages\\selenium\\webdriver\\remote\\errorhandler.py\", line 232, in check_response\n    raise exception_class(message, screen, stacktrace)\n"}, "start": 1748432345462, "stop": 1748432346007}], "start": 1748432345462, "stop": 1748432346093}